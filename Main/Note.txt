THIS IS THE MAIN CODE.
